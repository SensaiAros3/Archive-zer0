<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="logo.ico">
  <meta charset="UTF-8">
  <title>Archive-ZER0 Terminal</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Consolas, monospace;
    }

    body {
      background-color: #000;
      color: #00fff2;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    .terminal {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .input-line {
      display: flex;
      align-items: center;
      background: #000;
      border-top: 1px solid #00fff2;
      padding: 8px 16px;
    }

    .prompt {
      color: #00fff2;
      margin-right: 8px;
    }

    .input {
      background: none;
      border: none;
      outline: none;
      color: #00fff2;
      flex: 1;
      font-size: 16px;
    }

    .footer {
      background-color: #000;
      border-top: 1px solid #00fff2;
      padding: 8px 16px;
      color: #00fff2;
      font-size: 14px;
      text-align: center;
      letter-spacing: 1px;
    }

    .footer span {
      text-shadow: 0 0 5px #00fff2;
    }

    .error {
      color: #ff003c;
      text-shadow: 0 0 5px #ff003c;
    }

    .success {
      color: #00ff9d;
    }

    .warning {
      color: #ffcc00;
    }

    p {
      margin: 3px 0;
    }
  </style>
</head>
<body>
  <div class="terminal" id="terminal">
    <p>ARCHIVE-ZER0 SYSTEM v0.3</p>
    <p>Type <b>help</b> to view available commands.</p>
  </div>

  <div class="input-line">
    <span class="prompt">></span>
    <input type="text" id="command" class="input" autofocus />
  </div>

  <div class="footer">
    <span>[ ARCHIVE-ZER0 © 2025 ] — SYSTEM STABLE</span>
  </div>

  <script>
    const terminal = document.getElementById("terminal");
    const input = document.getElementById("command");

    let devMode = false;
    let loginAttempts = 0;
    let loginDisabled = false;

    function print(text, cls = "") {
      const p = document.createElement("p");
      p.innerHTML = cls ? `<span class="${cls}">${text}</span>` : text;
      terminal.appendChild(p);
      terminal.scrollTop = terminal.scrollHeight;
    }

    function resetTerminal() {
      terminal.innerHTML = "<p>ARCHIVE-ZER0 SYSTEM v0.3</p><p>Type <b>help</b> to view available commands.</p>";
    }

    input.addEventListener("keydown", async function(event) {
      if (event.key === "Enter") {
        const command = input.value.trim();
        print("> " + command);
        handleCommand(command.toLowerCase());
        input.value = "";
      }
    });

    function handleCommand(cmd) {
      if (loginDisabled && cmd.startsWith("login")) {
        print("[ALERT] Login system temporarily disabled.", "error");
        return;
      }

      // ===== BASIC COMMANDS =====
      if (cmd === "help") {
        print("Available commands:<br>random - opens a random entity<br>system - shows active status<br>help — show available commands<br>login — authenticate<br>create — create new field report<br>archives — show archive summaries<br>view &lt;ID&gt; — open archive/log<br>report — list submitted reports<br>scan &lt;sector&gt; — simulate sector scan<br>decrypt &lt;ID&gt; — attempt decrypt<br>status — show HQ/terminal status<br>alerts — list active alerts<br>time — show in-universe time<br>trace &lt;ID&gt; — trace anomaly<br>echo &lt;msg&gt; — output message<br>clear — clear terminal");
        if (devMode) {
          print("<br><b>Developer Commands:</b><br>add &lt;ID&gt; — add new archive<br>remove &lt;ID&gt; — remove archive<br>lock &lt;ID&gt; — lock file<br>unlock &lt;ID&gt; — unlock file");
        }
      }

      else if (cmd === "clear") {
        resetTerminal();
      }

      else if (cmd === "archives") {
        print("ARCHIVE FILES SUMMARY:<br>Z-001<br>Z-002<br>Z-003<br>Z-004<br>Z-005<br>Z-006<br>Z-007<br>Z-008<br>Z-009<br>Z-010<br>Z-011<br>Z-012<br>Z-013<br>Z-014<br>Z-015<br>Z-016<br>Z-017<br>Z-018<br>Z-019<br>Z-020<br>Z-021<br>Z-022<br>Z-023<br>Z-024<br>Z-025<br>Z-026<br>Z-027<br>Z-028<br>Z-029<br>Z-030<br>Z-031<br>Z-032<br>Z-033<br>Z-034<br>Z-035<br>Z-036<br>Z-037<br>Z-038<br>Z-039<br>Z-040<br>Z-041<br>Z-042<br>Z-043<br>Z-044<br>Z-045<br>Z-046<br>Z-047<br>Z-048<br>Z-049<br>Z-050");
      }

      else if (cmd.startsWith("view ")) {
        const id = cmd.split(" ")[1]?.toUpperCase();
        if (id) print(`Opening ${id}...`);
        setTimeout(() => {
          window.location.href = `${id.toLowerCase()}.html`;
        }, 800);
      }

      else if (cmd === "random") {
        const anomalies = [
          "z-001.html","z-002.html","z-003.html","z-004.html",
          "z-005.html","z-006.html","z-007.html","z-008.html","z-009.html"
        ];

        const checkExistence = async (url) => {
          try {
            const response = await fetch(url, { method: "HEAD" });
            return response.ok;
          } catch {
            return false;
          }
        };

        (async () => {
          const existing = [];
          for (const file of anomalies) {
            if (await checkExistence(file)) existing.push(file);
          }

          if (existing.length > 0) {
            const randomFile = existing[Math.floor(Math.random() * existing.length)];
            print(`Opening ${randomFile.toUpperCase().replace(".HTML", "")}...`);
            setTimeout(() => {
              window.location.href = randomFile;
            }, 800);
          } else {
            print("[ERROR] No accessible anomalies found.");
          }
        })();
      }

      else if (cmd === "report") {
        print("No active reports found.");
      }

      else if (cmd.startsWith("scan ")) {
        const sector = cmd.split(" ")[1]?.toUpperCase();
        if (!sector) return print("Usage: scan <sector>");
        print(`Initiating scan on ${sector}...`);
        setTimeout(() => {
          print(`[SCAN COMPLETE] No anomalies detected in ${sector}.`);
        }, 1500);
      }

      else if (cmd.startsWith("decrypt ")) {
        const id = cmd.split(" ")[1]?.toUpperCase();
        if (!id) return print("Usage: decrypt <ID>");
        print(`[DECRYPT] Attempting to unlock ${id}...`);
        setTimeout(() => {
          print(`[ERROR] File ${id} is locked with level-4 clearance.`, "error");
        }, 1200);
      }

      else if (cmd === "status") {
        print("HQ STATUS:<br>Active anomalies: 6<br>Pending reports: 2<br>New alerts: 1 (Crimson)<br>System Integrity: STABLE");
      }

      else if (cmd === "alerts") {
        print("<span class='error'>[ALERT] Z-003 activity spike detected in SEC-07</span>");
      }

      else if (cmd === "time") {
        const now = new Date();
        print(`Current system time: ${now.toUTCString()}`);
      }

      // ===== TRACE COMMAND =====
      else if (cmd.startsWith("trace ")) {
        const target = cmd.substring(6).toUpperCase();
        if (!target) return print("Usage: trace <target>");

        const sectors = ["01","02","03","04","05","06","07","08","09","10","11","12"];
        const scanners = ["thermal","spectral","quantum","neural","infrared","gravimetric"];
        const randomSector = sectors[Math.floor(Math.random() * sectors.length)];
        const randomScanner = scanners[Math.floor(Math.random() * scanners.length)];

        print(`Tracing ${target}...`);
        setTimeout(() => print("Signal acquired..."), 700);
        setTimeout(() => print("Analyzing signal pattern..."), 1300);

        setTimeout(() => {
          const success = Math.random() > 0.3;
          if (success) {
            print(`[TRACE COMPLETE] ${target} last detected near Sector-${randomSector} on ${randomScanner} scanners.`);
          } else {
            const failMsgs = [
              `[TRACE FAILED] ${target} signal lost during scan.`,
              `[TRACE FAILED] ${target} interference detected.`,
              `[TRACE FAILED] ${target} location could not be verified.`,
              `[TRACE FAILED] ${target} returned null coordinates.`
            ];
            print(failMsgs[Math.floor(Math.random() * failMsgs.length)], "error");
          }
        }, 2200);
      }

      else if (cmd.startsWith("echo ")) {
        const msg = cmd.substring(5);
        print(msg);
      }

      else if (cmd === "create") {
        print("=== Field Report Creation ===");
        print("Title> _ (Not implemented in this demo)", "warning");
      }

      // ===== LOGIN =====
      else if (cmd === "login") {
        print("Username> ");
        const user = prompt("Username:");
        const pass = prompt("Password:");
        if (user === "admin" && pass === "Az19882010@") {
          devMode = true;
          print("[ACCESS GRANTED] Developer clearance active.", "success");
        } else {
          loginAttempts++;
          print("[ACCESS DENIED] Invalid credentials.", "error");
          if (loginAttempts >= 3) {
            loginDisabled = true;
            print("[HQ ALERT] Multiple failed login attempts detected.", "error");
            print("Login command disabled for this session.", "warning");
          }
        }
      }

      // ===== DEV COMMANDS =====
      else if (cmd.startsWith("add ") || cmd.startsWith("remove ") || cmd.startsWith("lock ") || cmd.startsWith("unlock ")) {
        if (!devMode) return print("[ERROR] Command restricted: insufficient clearance.", "error");
        const [c, id] = cmd.split(" ");
        print(`[DEV] ${c.toUpperCase()} command executed for ${id.toUpperCase()}.`, "success");
      }

      else if (cmd === "system") {
        print("ARCHIVE-ZER0 SYSTEM INFO:");
        print("OS Build: A0-Terminal v0.3");
        print("Database: Connected");
        print("Security Layer: Active");
        print("Network Sync: Stable");
      }

      else if (cmd === "home") {
        print("Returning to home directory...");
        setTimeout(() => {
          window.location.href = "index.html";
        }, 800);
      }

      else {
        print("Unknown command.", "error");
      }
    }
  </script>
</body>
</html>
